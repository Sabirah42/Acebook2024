<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head lang="en">
    <meta charset="UTF-8">
    <title>Comment</title>
    <link rel="stylesheet" href="/main.css" />
</head>

<!--Navigation bar-->
<div class="topnav">
    <a class="logo" th:href="@{/posts}">Acebook</a>
    <a th:href="@{/logout}">Logout</a>
    <a th:href="@{/all-users}">People</a>
    <a th:href="@{/my_profile}">Profile</a>
</div>

<body>
<div class="container">
    <div sec:authorize="isAuthenticated()">
        Signed in as <span class="home-username" sec:authentication="name"></span>
    </div>

    <p class="rounded-text" th:text="${post.content}"></p>


    <form th:action="@{'/posts/' + ${post.id} + '/comment'}" th:object="${comment}" method="post">
        <p><input class="large-input" type="text" th:field="*{content}" placeholder="Add your comment" /></p>
        <p><input class="post-button" type="submit" value="Add comment" /></p>
    </form>

    <ul th:each="comment: ${comments}">
        <li>
            <span class="rounded-text" th:text="${comment.content}"></span>
        </li>
    </ul>
  
</div>

</body>
</html>
